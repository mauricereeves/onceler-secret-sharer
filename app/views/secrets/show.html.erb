<div class="alert alert-success">
  <strong>ğŸ”“ Secret Retrieved!</strong>
</div>

<div class="warning">
  <strong>âš ï¸ Security Notice:</strong> This secret will be destroyed after viewing and cannot be retrieved again. Make sure to copy or save the information you need.
</div>

<h2>Your Secret:</h2>

<div class="secret-content">
  <%= simple_format(@content) %>
</div>

<div class="form-group">
  <button onclick="copySecret()" class="btn">ğŸ“‹ Copy Secret</button>
  <button onclick="clearContent()" class="btn">ğŸ—‘ï¸ Clear from Screen</button>
</div>

<p><strong>This secret has been destroyed and cannot be accessed again.</strong></p>

<p><%= link_to "Create New Secret", root_path, class: "btn" %></p>

<script>
function copySecret() {
  const content = `<%= j(@content) %>`;
  navigator.clipboard.writeText(content).then(function() {
    alert('Secret copied to clipboard!');
  });
}

function clearContent() {
  if (confirm('Are you sure you want to clear the secret from the screen?')) {
    document.querySelector('.secret-content').innerHTML = '<em>Content cleared for security</em>';
  }
}

// Auto-clear after 5 minutes for security
setTimeout(function() {
  document.querySelector('.secret-content').innerHTML = '<em>Content automatically cleared for security</em>';
}, 5 * 60 * 1000);
</script>
